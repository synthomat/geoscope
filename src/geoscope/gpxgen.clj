(ns geoscope.gpxgen
  (:require [clojure.data.xml :refer :all]))


(def trk
  [[48.18601319689909 11.575204797514598]
   [48.18601254919023 11.575201626057675]
   [48.18588350161538 11.575095549529172]
   [48.18604225325316 11.574886984548582]
   [48.185981821837366 11.574889147388577]
   [48.18598848800633 11.575046366033943]
   [48.18601441461931 11.574985262197147]
   [48.1859970500189 11.575081095321323]
   [48.186007539812 11.575130224124258]
   [48.1858819594346 11.575148552999202]
   [48.18592890698127 11.575172488549867]
   [48.18601876315557 11.57492205974996]
   [48.18599274680219 11.57507725140526]
   [48.18599192949874 11.575163426982206]])

(defn -main
  "docstring"
  [& args]
  (let [st (element "gpx" {}
                    (element "trk" {}
                             (element "trkseg" {}
                                      (map (fn [x] (element "trkpt" {:lat (first x) :lon (second x)})) trk))))]
    (spit "sample.gpx" (emit-str st)))
  )
